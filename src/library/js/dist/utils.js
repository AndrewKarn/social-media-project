"use strict";const ZRequest=function(t){this.root="http://www.zoes-social-media-project.com/",this.uri="",this.setUri(t.uri),this.setNeedAuth(t.needAuth),this.jwt=t.needAuth?this.setJWT():null,this.setHttpMethod(t.httpMethod),void 0!==this.httpMethod&&this.setBody(t.body),this.headers=this.setDefaultHeaders()};ZRequest.prototype.constructor=ZRequest,ZRequest.prototype.request=function(){return fetch(this.getReqUri(),this.buildFetchInit()).then(t=>{const e=t.headers.get("authorization");return e&&localStorage.setItem("jwt",e),t.json()}).then(t=>{if(!t.error)return t;document.open(),document.write(t.error),document.close()})},ZRequest.prototype.setNeedAuth=function(t){this.needAuth=!(void 0===t||!1===t)},ZRequest.prototype.buildFetchInit=function(){let t={};return t.method=this.getHttpMethod(),t.headers=this.getHeaders(),this.isBody()&&(t.body=this.getBody()),t},ZRequest.prototype.setUri=function(t){this.uri=t},ZRequest.prototype.getUri=function(){return this.uri},ZRequest.prototype.getReqUri=function(){return new Request(this.root+this.getUri())},ZRequest.prototype.setDefaultHeaders=function(){const t=new Headers,e=this.getJWT();return e&&t.append("Authorization",e),this.isBody()&&t.append("Content-Type","application/json"),t},ZRequest.prototype.getHeaders=function(){return this.headers},ZRequest.prototype.setJWT=function(){return localStorage.getItem("jwt")},ZRequest.prototype.getJWT=function(){return this.jwt},ZRequest.prototype.isBody=function(){return void 0!==this.getBody()},ZRequest.prototype.setBody=function(t){this.body=t},ZRequest.prototype.getBody=function(){return this.body},ZRequest.prototype.setHttpMethod=function(t){this.httpMethod=void 0!==t?t:"GET"},ZRequest.prototype.getHttpMethod=function(){return this.httpMethod};const ZUtils={objectifyForm:t=>{const e=new FormData(t);let o={};for(let t of e.entries())o[t[0]]=t[1];return o},appendModal:t=>{document.body.append(t)}};